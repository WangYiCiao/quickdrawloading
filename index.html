<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quick Draw - 稍候片刻</title>

    <style>
        .quick-draw-style {
            background-color: #f8d147;
            font-family: sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px;
        }

        #container {
            position: relative;
            width: 400px;
            margin: 20px auto;
        }

        #myCanvas {
            border: 4px solid black;
            display: block;
            position: relative;
            z-index: 1;
        }

        #background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        #message {
            font-size: 1.5em;
            font-weight: bold;
        }

        #top-message {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        /* 手按鈕樣式 */
        #hand-button {
            cursor: pointer;
            width: 80px;
            height: 80px;
            margin-top: 20px;
        }

        /* 炸出的圖片樣式 */
        .confetti-img {
            position: absolute;
            width: 50px;
            height: 50px;
            animation: fall 1.5s ease-out forwards;
        }

        /* 下落動畫 */
        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(200px) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body class="quick-draw-style">

<p id="top-message">Quick, Draw!系統正在進行緊急修復，請稍候再試</p>
<p class="messege01">
    "來畫個小畫作吧！"
</p>
<div id="container">
    <canvas id="myCanvas" width="400" height="300"></canvas>
    <img id="background-image" src="Whiteboard.png" alt="Whiteboard">
</div>

<p id="message">塗鴉萬歲！</p>

<!-- 手按鈕 -->
<img id="hand-button" src="hand.png" alt="Click">

<script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');
    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;

    canvas.addEventListener('mousedown', (e) => {
        isDrawing = true;
        lastX = e.offsetX;
        lastY = e.offsetY;
    });

    canvas.addEventListener('mousemove', (e) => {
        if (!isDrawing) return;
        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
        lastX = e.offsetX;
        lastY = e.offsetY;
    });

    canvas.addEventListener('mouseup', () => {
        isDrawing = false;
    });

    canvas.addEventListener('mouseout', () => {
        isDrawing = false;
    });

    // 炸出圖片的邏輯
    const handButton = document.getElementById('hand-button');
    const imageList = [
        "apple.png", "basketball.png", "bike.png", "Helicopters.png",
        "glass.png", "cup.png", "light.png", "pizza.png",
        "snag1.png", "spider.png"
    ];

    handButton.addEventListener('click', () => {
        for (let i = 0; i < 10; i++) { // 生成 10 個隨機圖片
            createConfettiImage();
        }
    });

    function createConfettiImage() {
        const img = document.createElement("img");
        img.src = imageList[Math.floor(Math.random() * imageList.length)]; // 隨機選擇圖片
        img.className = "confetti-img";

        // 隨機位置
        img.style.left = `${Math.random() * 400}px`; // 限制在畫布範圍內
        img.style.top = `0px`; // 從頂部開始掉落

        document.body.appendChild(img);

        // 動畫結束後移除
        setTimeout(() => {
            img.remove();
        }, 1500);
    }
</script>
</body>
</html>
